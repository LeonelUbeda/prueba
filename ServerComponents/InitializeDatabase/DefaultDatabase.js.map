{"version":3,"sources":["../../../src/ServerComponents/InitializeDatabase/DefaultDatabase.js"],"names":["DefaultDatabase","Promise","resolve","reject","mysqlQueryDefault","fs","readFileSync","__dirname","connection","CreateConnection","then","query","error","results","fields"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;;;AAEA,IAAMA,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAE5B;AACA,SAAO,IAAIC,OAAJ,CAAY,UAAEC,OAAF,EAAWC,MAAX,EAAuB;AAItC,QAAMC,iBAAiB,GAAGC,eAAGC,YAAH,CAAiB,gBAAMC,SAAN,EAAkB,qCAAlB,CAAjB,EAA2E,MAA3E,CAA1B;AAAA,QACAC,UAAU,GAAGC,4BADb;;AAGA,qCACKC,IADL,CACW,YAAM;AACXF,MAAAA,UAAU,CAACG,KAAX,CAAiBP,iBAAjB,EAAoC,UAACQ,KAAD,EAAQC,OAAR,EAAiBC,MAAjB,EAA4B;AAC9D;AACA,YAAIF,KAAJ,EAAW;AACTT,UAAAA,MAAM,CAAES,KAAF,CAAN;AACA,iBAAO,IAAP;AACD;;AAEDV,QAAAA,OAAO;AAKV,OAZC;AAaD,KAfL,WAgBY;AAAA,aAAMC,MAAM,EAAZ;AAAA,KAhBZ,EAPsC,CA0BtC;AAEH,GA5BM,CAAP;AA6BD,CAhCD;;eAkCeH,e","sourcesContent":["import { join } from 'path';\r\nimport fs from 'fs';\r\nimport CreateConnection from '../CreateConnection/CreateConnection';\r\nimport ResetDatabase from './ResetDatabase';\r\n\r\nconst DefaultDatabase = () => {\r\n  \r\n  // Crea la promesa para inicializar la base datos\r\n  return new Promise(( resolve, reject ) => {\r\n\r\n\r\n        \r\n      const mysqlQueryDefault = fs.readFileSync( join( __dirname,  '../../ServerFiles/DefaultValues.sql'), \"utf8\"),\r\n      connection = CreateConnection;\r\n\r\n      ResetDatabase()\r\n          .then( () => {\r\n            connection.query(mysqlQueryDefault, (error, results, fields) => {\r\n              // Devuelve el error si encuentra alguno\r\n              if (error) {\r\n                reject (error);\r\n                return null;\r\n              }\r\n\r\n              resolve();\r\n      \r\n              \r\n              \r\n            \r\n          });\r\n          })\r\n          .catch( () => reject());\r\n\r\n\r\n      // De lo contrario, procede a la segunda query\r\n      \r\n  });\r\n}\r\n\r\nexport default DefaultDatabase;\r\n"],"file":"DefaultDatabase.js"}