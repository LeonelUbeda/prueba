{"version":3,"sources":["../../../src/ServerComponents/InitializeDatabase/CreateDatabase.js"],"names":["CreateDatabase","Promise","resolve","reject","connectobj","JSON","parse","__dirname","query","database","connection","mysql","createPool","error","results","fields"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,SAAO,IAAIC,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,QAAMC,UAAU,GAAGC,IAAI,CAACC,KAAL,CAAW,sBAAa,gBAAKC,SAAL,EAAgB,sCAAhB,CAAb,CAAX,CAAnB;AAAA,QACMC,KAAK,2CAAqCJ,UAAU,CAACK,QAAhD,MADX;AAGA,WAAOL,UAAU,CAACK,QAAlB;;AAGA,QAAMC,UAAU,GAAGC,kBAAMC,UAAN,CAAiBR,UAAjB,CAAnB;;AACAM,IAAAA,UAAU,CAACF,KAAX,CAAiBA,KAAjB,EAAwB,UAACK,KAAD,EAAQC,OAAR,EAAiBC,MAAjB,EAA4B;AAClD,UAAIF,KAAJ,EAAU;AACRV,QAAAA,MAAM,CAACU,KAAD,CAAN;AACD,OAFD,MAGK;AACHX,QAAAA,OAAO,CAACY,OAAD,CAAP;AACD;AAEF,KARD;AAUD,GAlBM,CAAP;AAmBD,CApBD;;eAsBed,c","sourcesContent":["import mysql from 'mysql';\r\nimport { readFileSync } from 'fs';\r\nimport { join, resolve } from 'path';\r\n\r\nconst CreateDatabase = () => {\r\n  return new Promise( (resolve, reject) => {\r\n    const connectobj = JSON.parse(readFileSync(join(__dirname, '../../ServerFiles/dbCredentials.json'))),\r\n          query = `create database if not exists ${ connectobj.database };`\r\n\r\n    delete connectobj.database;\r\n\r\n\r\n    const connection = mysql.createPool(connectobj);\r\n    connection.query(query, (error, results, fields) => {\r\n      if (error){\r\n        reject(error);\r\n      }\r\n      else {\r\n        resolve(results);  \r\n      }\r\n\r\n    });\r\n\r\n  }); \r\n}\r\n\r\nexport default CreateDatabase;\r\n"],"file":"CreateDatabase.js"}